<div class="container mainconatiner">
  <div class="row mt-3 align-items-center wrapper">
    <div class="col-md-4">
      <h2 class="welcome">Service Reports</h2>
    </div>
    <div class="col-md-8 text-right">
      <app-header></app-header> 
    </div>
  </div>
  <div class="mt-4" *ngIf="reportsList !== undefined && !showspinner">
    <div class="row justify-content-center">
      <div class="col-md-5">
        <input
          type="text"
          style="
            width: 100%;
            height: 40px;
            border: 1px solid;
            border-radius: 10px;
            background-color: transparent;
          "
          placeholder="Search"
        />
      </div>
      <div class="col-md-7 right-section">
        <div class="btn-group">
          <a href="#" class="btn btn-primary" aria-current="page"
            ><svg
              class="me-2"
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              fill="currentColor"
              viewBox="0 0 16 16"
            >
              <path
                d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"
              ></path></svg>New Request</a
          >
          <a href="#" class="btn btn-light">View All</a>
        </div>
      </div>
    </div>
  </div>
  <div class="alert alert-danger" *ngIf="error">{{ error }}</div>

  <div class="alert alert-danger" *ngIf="error">{{ error }}</div>
  <div
    *ngIf="showspinner"
    class="spinner-border text-primary"
    style="width: 5rem; height: 5rem; margin-top: 120px; margin-left: 400px"
    role="status"
  >
    <span class="sr-only">Loading...</span>
  </div>
  <div
    class="contactlistheader"
    *ngIf="reportsList !== undefined && !showspinner"
  >
    <div class="mt-3 table-responsive">
      <table
        mat-table
        [dataSource]="reportsList"
        class="mat-elevation-z0 table service_table"
        *ngIf="!showspinner"
      >
        <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

        <!-- Account Column -->
        <ng-container matColumnDef="Account">
          <th mat-header-cell *matHeaderCellDef>Account</th>
          <td mat-cell *matCellDef="let element">
            {{ element.BuyerPartyName }}
          </td>
        </ng-container>

        <!-- TicketNumber Column -->
        <ng-container matColumnDef="TicketNumber">
          <th mat-header-cell *matHeaderCellDef>TicketNumber</th>
          <td mat-cell *matCellDef="let element">{{ element.ID }}</td>
        </ng-container>

        <!-- Date Time Opened Column -->
        <ng-container matColumnDef="Date Time Opened">
          <th mat-header-cell *matHeaderCellDef>Date Time Opened</th>
          <td mat-cell *matCellDef="let element">
            {{ element.RequestInitialReceiptdatetimecontent }}
          </td>
        </ng-container>

        <!-- Ticket Assaigned to/Consultant Description -->
        <ng-container matColumnDef="Ticket Assaigned to/Consultant">
          <th mat-header-cell *matHeaderCellDef>
            Ticket Assaigned to/Consultant
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.ProcessorPartyName }}
          </td>
        </ng-container>

        <!-- Reported By Column -->
        <ng-container matColumnDef="Reported By">
          <th mat-header-cell *matHeaderCellDef>Reported By</th>
          <td mat-cell *matCellDef="let element">
            {{ element.BuyerMainContactPartyName }}
          </td>
        </ng-container>

        <!-- Date Time Close Column -->
        <ng-container matColumnDef="Date Time Close">
          <th mat-header-cell *matHeaderCellDef>Date Time Close</th>
          <td mat-cell *matCellDef="let element">
            {{ element.ResolvedOnDateTime }}
          </td>
        </ng-container>

        <!-- Case Record Type Column -->
        <ng-container matColumnDef="Case Record Type">
          <th mat-header-cell *matHeaderCellDef>Case Record Type</th>
          <td mat-cell *matCellDef="let element">
            {{ element.CaseRecordType_KUTText }}
          </td>
        </ng-container>

        <!-- Case Type Type Column -->
        <ng-container matColumnDef="Case Type">
          <th mat-header-cell *matHeaderCellDef>Case Type</th>
          <td mat-cell *matCellDef="let element">
            {{ element.ProcessingTypeCodeText }}
          </td>
        </ng-container>

        <!-- Related Module Type Column -->
        <ng-container matColumnDef="Related Module">
          <th mat-header-cell *matHeaderCellDef>Related Module</th>
          <td mat-cell *matCellDef="let element">
            {{ element.ProductDescription }}
          </td>
        </ng-container>

        <!-- Status Type Column -->
        <ng-container matColumnDef="Status">
          <th mat-header-cell *matHeaderCellDef>Status</th>
          <td mat-cell *matCellDef="let element">
            {{ element.ServiceRequestLifeCycleStatusCodeText }}
          </td>
        </ng-container>

        <!-- Severity Type Column -->
        <ng-container matColumnDef="Severity">
          <th mat-header-cell *matHeaderCellDef>Severity</th>
          <td mat-cell *matCellDef="let element">
            {{ element.ServicePriorityCodeText }}
          </td>
        </ng-container>

        <!-- Contract ID Type Column -->
        <ng-container matColumnDef="Contract ID">
          <th mat-header-cell *matHeaderCellDef>Contract ID</th>
          <td mat-cell *matCellDef="let element">{{ element.ContractID }}</td>
        </ng-container>

        <!-- Subject Type Column -->
        <ng-container matColumnDef="Subject">
          <th mat-header-cell *matHeaderCellDef>Subject</th>
          <td mat-cell *matCellDef="let element">{{ element.Name }}</td>
        </ng-container>

        <!-- Complexity Column -->
        <ng-container matColumnDef="Complexity">
          <th mat-header-cell *matHeaderCellDef>Complexity</th>
          <td mat-cell *matCellDef="let element">
            <div style="color: red">no value from api</div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="reportsColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: reportsColumns"></tr>
      </table>
    </div>
  </div>
</div>
